{% extends "blog/base_generic.html" %}
{% load i18n %}
{% load static %}

{% block content %}


<div class="container">

    <p></p>
    <form class="d-flex justify-content-center gap-2" method="GET">
        <div class="col-4">
            {{ filter_form.search }}
        </div>
        <div class="col-1">
          {{ filter_form.year }}
        </div>
        <button class="btn btn-primary" style="width: 200px;" type="submit">{% trans "Search" %}</button>
    </form>
    <p>

  <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 row-cols-xl-4 g-4">
    {% if blog_posts %}
    {% for cover in blog_posts %}
    <div class="col d-flex justify-content-center flex-wrap">
            <div class="image-container">
                {% if user.is_authenticated %}
                    {% if cover.type.type == 'Brochures' or cover.type.type == 'Other papers' %}
                        <a href="{{ cover.file.url }}" target="_blank">
                    {% else %}
                        <a href="{{ cover.get_absolute_url }}">
                    {% endif %}
                {% else %}
                    <a href="#">
                {% endif %}
                        <img src="{{ cover.banner.url }}" alt="..." class="w-100" style="max-width: 170px;">
                    </a>
                <div class="overlay text-center">
                    {% if user.is_authenticated %}
                        {% if cover.type.type in others %}
                            <a class="text-decoration-none" href="{{ cover.file.url }}" target="_blank">
                        {% else %}
                            <a class="text-decoration-none" href="{{ cover.get_absolute_url }}">
                        {% endif %}
                    {% else %}
                        <a class="text-decoration-none" href="#">
                    {% endif %}
                        <p class="text">
                            {% if CURRENT_LANGUAGE == "uk" %}
                                {{ cover.uk_title }}
                            {% else %}
                                {{ cover.en_title }}
                            {% endif %}
                        </p>
                    </a>
                </div>
            </div>
    </div>
    {% endfor %}
    {% else %}
    <p>{% trans "There are no resources matching your request" %}</p>
    {% endif %}
  </div>

    {% include 'include/pagination.html' %}

</div>
{% endblock %}